<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
            "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
	<head>
		<title>cache_all</title>
        <style type='text/css'>
            body {font-family: verdana}
            .error {border: solid 1px red;}
            .error_text { color: red; font-size: 10px;}
            td {padding: 3px;}
        </style>
	</head>
	<body>
	    <h1>Welcome to Cache all demo</h1>
      <script type='text/javascript' src='../steal/steal.js?'></script>
      <script type='text/javascript'>
        steal.plugins('jquery/model',
            'jquery/dom/fixture',
            'jquery/model/list',
            'cache_all').start()
      </script>
      <script type="test/javascript">
        $.Model.extend('Task', {
          init: function(){
            this.cacheAll()
          },
          findAll:function(params,success,fail){
            var items = []
            for(var i = 0; i < 100; i++){
              items.push({name: 'todo'+i})
            }
            return success(this.wrapMany(items))
          }
        });
        $.Model.extend('User',{
          init: function(){
            this.hasMany('Tasks', 'tasks', 'taskIds')
          }
        })
      </script>
	</body>
</html>